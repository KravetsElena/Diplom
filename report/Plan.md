# __План автоматизации__

##  Перечень автоматизируемых сценариев

##### *Валидные данные:*
Поле "Номера карты" - 4444 4444 4444 4441 - действующая карта;\
                     4444 4444 4444 4442 - не действующая карта.\
Поле "Месяц" - текущий месяц.\
Поле "Год" - текущий год\
Поле "Владелец" - имя и фамилия от 1 до 60 латинских букв с пробелом.\
Поле "CVC/CVV" - 3 цифры.


### Покупка по дебетовой карте

#### *Предусловия:*
* Открыть веб-страницу http://localhost:8080/
* Нажать кнопку "Купить"

#### *Позитивные сценарии:*
1. Покупка с действующей картой с заполнением все полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Оплата прошла успешно".\
   В БД в таблице payment_entity в столбце status появляется APPROVED.

    *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV"
    * Нажать кнопку "Продолжить"
   

2. Покупка с действующей картой с фамилией с дефисом в поле "Владелец" и остальными полями валидными.Например IVAN RIMSKII-KORSAKOV.\
   *Ожидаемый результат:* Появляется сообщение "Оплата прошла успешно".\
   В БД в таблице payment_entity в столбце status появляется APPROVED.

   *Шаги:*
   * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "CVC/CVV"
   * В поле "Владелец" ввести фамилию на латинице с дефисом, например IVAN RIMSKII-KORSAKOV
   * Нажать кнопку "Продолжить"


3. Покупка с действующей картой и датой +5 лет к текущей в поле "Год" и остальными полями валидными.\
   *Ожидаемый результат:* Появляется сообщение "Оплата прошла успешно".\
   В БД в таблице payment_entity в столбце status появляется APPROVED.
   
   *Шаги:*
   * Заполнить валидными данными поля "Номер карты", "Месяц", "Владелец", "CVC/CVV"
   * В поле "Год" ввести дату + лет к текущей, например 28
   * Нажать кнопку "Продолжить"


4. Покупка с помощью недействующей карты с заполнением всех полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Ошибка! Банк отказал в проведении операции".\
   В БД в таблице payment_entity в столбце status появляется DECLINED.

      *Шаги:*
      * Заполнить поле "Номер карты" данными недействующей карты - 4444 4444 4444 4442
      * Заполнить остальные поля валидными данными, "Месяц", "Год", "Владелец", "CVC/CVV"
      * Нажать кнопку "Продолжить"


#### *Негативные сценарии:*

1. Покупка с помощью действующей карты с не полным заполнением поля "Номера карты" и всех остальных полей валидными данными. Например 13 цифр.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

   *Шаги:*
    * Заполнить валидными данными "Месяц", "Год", "Владелец", "CVC/CVV"
    * в поле "Номер карты" ввести от 1 до 15 цифр
    * Нажать кнопку "Продолжить"


2. Покупка с помощью действующей карты с заполнением поля "Владелец" кириллицей и всех остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "CVC/CVV"
    * В поле "Владелец" ввести фамилию до 60 символов на кирилице
    * Нажать кнопку "Продолжить"


3. Покупка с помощью действующей карты с заполнением только имени в поле "Владелец" и всех остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "CVC/CVV"
    * В поле "Владелец" ввести имя на латинице до 60 символов
    * Нажать кнопку "Продолжить"


4. Покупка с помощью действующей карты с заполнением поля "Месяц" одной цифрой и всех остальных полей валидными данными. Например 2.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты","Владелец", "Год", "CVC/CVV"
    * В поле  "Месяц" ввести одну цифру от 1 до 9
    * Нажать кнопку "Продолжить"


5. Покупка с помощью действующей карты с полем "Год" до 23 и всех остальных полей валидными данными. Например 22.\
   *Ожидаемый результат:* Появляется сообщение "Истёк срок действия карты".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты","Владелец", "Месяц", "CVC/CVV"
    * В поле "Год" ввести дату до 23 года, например 22
    * Нажать кнопку "Продолжить"


6. Покупка с помощью действующей карты с заполнением поля "Год" после 28 и всех остальных полей валидными данными. Например 29.\
   *Ожидаемый результат:* Появляется сообщение "Неверно указан срок действия карты".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты","Владелец", "Месяц", "CVC/CVV"
    * В поле "Год" ввести дату +6 лет к текущему году, например 29
    * Нажать кнопку "Продолжить"


7. Покупка с помощью действующей карты с не полным заполнением поля "CVC/CVV" и всех остальных полей валидными данными. Например 2 цифры.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты","Владелец", "Месяц", "Год"
    * В поле "CVC/CVV" ввести цифру от 0 до 99
    * Нажать кнопку "Продолжить"


8. Покупка с помощью действующей карты с невалидным полем "Месяц" и остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверно указан срок действия карты".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты","Владелец", "CVC/CVV"
    * В поле "Год" ввести цифру 23
    * В поле "Месяц" ввести цифру от 01 до 08
    * Нажать кнопку "Продолжить"
   

9. Покупка с пустым полем "Номер карты" и остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

    *Шаги:*
    * Заполнить валидными данными поля "Месяц", "Год", "Владелец", "CVC/CVV"
    * Нажать кнопку "Продолжить"


10. Покупка с помощью действующей карты с пустым полем "Месяц" и остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

    *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Год", "Владелец", "CVC/CVV"
    * Нажать кнопку "Продолжить"


11. Покупка с помощью действующей карты с пустым полем "Год" и остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

    *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Владелец", "CVC/CVV"
    * Нажать кнопку "Продолжить"


12. Покупка с помощью действующей карты с пустым полем "Владелец" и остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

    *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "CVC/CVV"
    * Нажать кнопку "Продолжить"


13. Покупка с помощью действующей карты с пустым полем "CVC/CVV" и остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

    *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "Владелец"
    * Нажать кнопку "Продолжить"


    


### Покупка по кредитной карте

#### *Предусловия:*
* Открыть веб-страницу http://localhost:8080/
* Нажать кнопку "Купить в кредит"

#### *Позитивные сценарии:*
1. Покупка с действующей картой с заполнением всех полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Оплата прошла успешно".\
   В БД в таблице credit_request_entity в столбце status появляется APPROVED.

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV"
    * Нажать кнопку "Продолжить"


2. Покупка с действующей картой с фамилией с дефисом в поле "Владелец" и остальными полями валидными.Например IVAN RIMSKII-KORSAKOV.\
   *Ожидаемый результат:* Появляется сообщение "Оплата прошла успешно".\
   В БД в таблице credit_request_entity в столбце status появляется APPROVED.

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "CVC/CVV"
    * В поле "Владелец" ввести фамилию на латинице с дефисом, например IVAN RIMSKII-KORSAKOV
    * Нажать кнопку "Продолжить"


3. Покупка с действующей картой датой+5 лет к текущей в поле "Год" и остальными полями валидными.\
   *Ожидаемый результат:* Появляется сообщение "Оплата прошла успешно".\
   В БД в таблице payment_entity в столбце status появляется APPROVED.

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Владелец", "CVC/CVV"
    * В поле "Год" ввести дату + лет к текущей, например 28
    * Нажать кнопку "Продолжить"


4. Покупка с помощью недействующей карты с заполнением все полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Ошибка! Банк отказал в проведении операции".\
   В БД в таблице credit_request_entity в столбце status появляется DECLINED.

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "Владелец", "CVC/CVV"
    * Нажать кнопку "Продолжить"


#### *Негативные сценарии:*

1. Покупка с не полным заполнением поля "Номера карты" и всех остальных полей валидными данными. Например 13 цифр.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

   *Шаги:*
    * Заполнить валидными данными "Месяц", "Год", "Владелец", "CVC/CVV"
    * в поле "Номер карты" ввести от 1 до 15 цифр
    * Нажать кнопку "Продолжить"


2. Покупка с помощью действующей карты с заполнением поля "Владелец" кирилицей и всех остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "CVC/CVV"
    * В поле "Владелец" ввести фамилию до 60 символов на кирилице
    * Нажать кнопку "Продолжить"


3. Покупка с помощью действующей карты с заполнением только имени в поле "Владелец" и всех остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "CVC/CVV"
    * В поле "Владелец" ввести имя на латинице до 60 символов
    * Нажать кнопку "Продолжить"


4. Покупка с помощью действующей карты с заполнением поля "Месяц" одной цифрой и всех остальных полей валидными данными. Например 2.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты","Владелец", "Год", "CVC/CVV"
    * В поле  "Месяц" ввести одну цифру от 1 до 9
    * Нажать кнопку "Продолжить"


5. Покупка с помощью действующей карты с полем "Год" до 23 и всех остальных полей валидными данными. Например 22.\
   *Ожидаемый результат:* Появляется сообщение "Истёк срок действия карты".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты","Владелец", "Месяц", "CVC/CVV"
    * В поле "Год" ввести дату до 23 года, например 22
    * Нажать кнопку "Продолжить"


6. Покупка с помощью действующей карты с заполнением поля "Год" после 28 и всех остальных полей валидными данными. Например 29.\
   *Ожидаемый результат:* Появляется сообщение "Неверно указан срок действия карты".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты","Владелец", "Месяц", "CVC/CVV"
    * В поле "Год" ввести дату +6 лет к текущему году, например 29
    * Нажать кнопку "Продолжить"


7. Покупка с помощью действующей карты с не полным заполнением поля "CVC/CVV" и всех остальных полей валидными данными. Например 2 цифры.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты","Владелец", "Месяц", "Год"
    * В поле "CVC/CVV" ввести цифру от 0 до 99
    * Нажать кнопку "Продолжить"


8. Покупка с помощью действующей карты с невалидным полем "Месяц" и остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверно указан срок действия карты".

   *Шаги:*
    * Заполнить валидными данными поля "Номер карты","Владелец", "CVC/CVV"
    * В поле "Год" ввести цифру 23
    * В поле "Месяц" ввести цифру от 01 до 08
    * Нажать кнопку "Продолжить"


9. Покупка с помощью действующей карты с пустым полем "Номер карты" и остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

    *Шаги:*
    * Заполнить валидными данными поля "Месяц", "Год", "Владелец", "CVC/CVV"
    * Нажать кнопку "Продолжить"


10. Покупка с помощью действующей карты с пустым полем "Месяц" и остальных полей валидными данными.\
   *Ожидаемый результат:* Появляется сообщение "Неверный формат".

    *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Год", "Владелец", "CVC/CVV"
    * Нажать кнопку "Продолжить"


11. Покупка с помощью действующей карты с пустым полем "Год" и остальных полей валидными данными.\
    *Ожидаемый результат:* Появляется сообщение "Неверный формат".

    *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Владелец", "CVC/CVV"
    * Нажать кнопку "Продолжить"


12. Покупка с помощью действующей карты с пустым полем "Владелец" и остальных полей валидными данными.\
    *Ожидаемый результат:* Появляется сообщение "Неверный формат".

    *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "CVC/CVV"
    * Нажать кнопку "Продолжить"


13. Покупка с помощью действующей карты с пустым полем "CVC/CVV" и остальных полей валидными данными.\
    *Ожидаемый результат:* Появляется сообщение "Неверный формат".

    *Шаги:*
    * Заполнить валидными данными поля "Номер карты", "Месяц", "Год", "Владелец"
    * Нажать кнопку "Продолжить"


   


##  Перечень используемых инструментов с обоснованием выбора
1. Java - один из популярнейших языков программирования среди финансового серктора. Т.к. веб-сервис будет работать с банковскими сервисами.
2. IntelliJ IDEA -  интегрированная среда разработки программного обеспечения для многих языков программирования, в частности Java.
3. JUnit5 -  наиболее широко используемая среда тестирования для приложений Java.
4. Selenide - фреймворк для написания удобных для чтения и обслуживания автоматизированных тестов на Java.
5. Loombok - основанная на аннотациях библиотека Java, позволяющая сократить шаблонный код.
6. JavaFaker - библиотека, которую можно использовать для создания широкого массива реальных данных.
7. Allure Framework - фреймворк, позволяющий представить данные о запуске тестов в виде простого и удобного HTML-отчета.
8. Docker - позволяет развертывать приложения в виде переносимых автономных контейнеров, выполняемых в облаке или локальной среде.
9. GitHub -  крупнейший веб-сервис для хостинга IT-проектов и их совместной разработки.

##  Перечень и описание возможных рисков при автоматизации
1. Отсутствие ТЗ по работе приложения.
2. Отсутствие тестовых меток на странице приложиния. Могут поменяться метки, к которым привязаны тесты.
3. Риск возникновения ошибок на стыке с внешними прилоениями. Тестирование проводится с заглушкой вместо банковского сервиса.
4. Изменение UI-дизайна может привести к обрушению тестов.

##  Интервальная оценка с учётом рисков в часах
1. Подготовка среды, написание вспомогательных данных - 24 часа.
2. Написание автотестов - 24 часа.
3. Написание баг-репортов - 10 часов.
4. Формирование отчета - 5 часов.


##  План сдачи работ: когда будут готовы автотесты, результаты их прогона
1. Подготовка среды, написание вспомогательных данных - 20.09.
2. Написание автотестов - 27.09.
3. Написание баг-репортов- 02.10.
4. Формирование отчета - 05.10.

